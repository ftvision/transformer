<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550">
  <!-- Pure black background -->
  <rect width="800" height="550" fill="#000000"/>

  <!-- Title -->
  <text x="400" y="35" font-family="CMU Serif, Georgia, serif" font-size="24" fill="#ffffff" text-anchor="middle">Quantization: Reducing Precision</text>

  <!-- Subtitle -->
  <text x="400" y="60" font-family="CMU Serif, Georgia, serif" font-size="14" fill="#888888" text-anchor="middle">
    Map float32/16 → int8/4 to reduce memory and increase throughput
  </text>

  <!-- ============ Precision Comparison ============ -->
  <g transform="translate(50, 90)">
    <text x="350" y="0" font-family="CMU Serif, Georgia, serif" font-size="16" fill="#888888" text-anchor="middle">Model Size by Precision (7B params)</text>

    <!-- FP32 bar -->
    <g transform="translate(0, 25)">
      <text x="60" y="20" font-family="monospace" font-size="12" fill="#888888" text-anchor="end">FP32</text>
      <rect x="70" y="5" width="280" height="25" fill="#666666" fill-opacity="0.3" stroke="#666666"/>
      <text x="210" y="22" font-family="monospace" font-size="11" fill="#666666" text-anchor="middle">28 GB</text>
      <text x="360" y="22" font-family="monospace" font-size="10" fill="#666666">32 bits × 7B</text>
    </g>

    <!-- FP16 bar -->
    <g transform="translate(0, 55)">
      <text x="60" y="20" font-family="monospace" font-size="12" fill="#29ABCA" text-anchor="end">FP16</text>
      <rect x="70" y="5" width="140" height="25" fill="#29ABCA" fill-opacity="0.3" stroke="#29ABCA"/>
      <text x="140" y="22" font-family="monospace" font-size="11" fill="#29ABCA" text-anchor="middle">14 GB</text>
      <text x="220" y="22" font-family="monospace" font-size="10" fill="#29ABCA">2x smaller</text>
    </g>

    <!-- INT8 bar -->
    <g transform="translate(0, 85)">
      <text x="60" y="20" font-family="monospace" font-size="12" fill="#83C167" text-anchor="end">INT8</text>
      <rect x="70" y="5" width="70" height="25" fill="#83C167" fill-opacity="0.3" stroke="#83C167"/>
      <text x="105" y="22" font-family="monospace" font-size="11" fill="#83C167" text-anchor="middle">7 GB</text>
      <text x="150" y="22" font-family="monospace" font-size="10" fill="#83C167">4x smaller</text>
    </g>

    <!-- INT4 bar -->
    <g transform="translate(0, 115)">
      <text x="60" y="20" font-family="monospace" font-size="12" fill="#FFFF00" text-anchor="end">INT4</text>
      <rect x="70" y="5" width="35" height="25" fill="#FFFF00" fill-opacity="0.3" stroke="#FFFF00"/>
      <text x="87" y="22" font-family="monospace" font-size="11" fill="#FFFF00" text-anchor="middle">3.5</text>
      <text x="115" y="22" font-family="monospace" font-size="10" fill="#FFFF00">8x smaller</text>
    </g>

    <!-- Throughput impact -->
    <g transform="translate(450, 25)">
      <text x="100" y="0" font-family="CMU Serif, Georgia, serif" font-size="14" fill="#888888" text-anchor="middle">Throughput Impact</text>
      <text x="0" y="30" font-family="monospace" font-size="11" fill="#666666">FP32: ~70 tok/s</text>
      <text x="0" y="50" font-family="monospace" font-size="11" fill="#29ABCA">FP16: ~140 tok/s</text>
      <text x="0" y="70" font-family="monospace" font-size="11" fill="#83C167">INT8: ~280 tok/s</text>
      <text x="0" y="90" font-family="monospace" font-size="11" fill="#FFFF00">INT4: ~500 tok/s*</text>
      <text x="0" y="115" font-family="CMU Serif, Georgia, serif" font-size="10" fill="#666666">*depends on kernel support</text>
    </g>
  </g>

  <!-- ============ Quantization Process ============ -->
  <g transform="translate(50, 260)">
    <text x="350" y="0" font-family="CMU Serif, Georgia, serif" font-size="16" fill="#ffffff" text-anchor="middle">How Quantization Works (INT8 example)</text>

    <!-- Float values -->
    <g transform="translate(0, 30)">
      <text x="90" y="-5" font-family="CMU Serif, Georgia, serif" font-size="12" fill="#29ABCA" text-anchor="middle">Original (FP16)</text>
      <rect x="0" y="0" width="180" height="40" fill="#29ABCA" fill-opacity="0.1" stroke="#29ABCA"/>
      <text x="30" y="25" font-family="monospace" font-size="11" fill="#29ABCA" text-anchor="middle">-1.5</text>
      <text x="70" y="25" font-family="monospace" font-size="11" fill="#29ABCA" text-anchor="middle">0.0</text>
      <text x="110" y="25" font-family="monospace" font-size="11" fill="#29ABCA" text-anchor="middle">0.5</text>
      <text x="150" y="25" font-family="monospace" font-size="11" fill="#29ABCA" text-anchor="middle">1.5</text>
    </g>

    <!-- Arrow with formula -->
    <g transform="translate(190, 30)">
      <line x1="0" y1="20" x2="60" y2="20" stroke="#888888" stroke-width="2"/>
      <polygon points="65,20 55,15 55,25" fill="#888888"/>
      <text x="30" y="10" font-family="CMU Serif, Georgia, serif" font-size="9" fill="#FFFF00" text-anchor="middle">q = round(x/s)</text>
    </g>

    <!-- Quantized values -->
    <g transform="translate(265, 30)">
      <text x="90" y="-5" font-family="CMU Serif, Georgia, serif" font-size="12" fill="#83C167" text-anchor="middle">Quantized (INT8)</text>
      <rect x="0" y="0" width="180" height="40" fill="#83C167" fill-opacity="0.1" stroke="#83C167"/>
      <text x="30" y="25" font-family="monospace" font-size="11" fill="#83C167" text-anchor="middle">-128</text>
      <text x="70" y="25" font-family="monospace" font-size="11" fill="#83C167" text-anchor="middle">0</text>
      <text x="110" y="25" font-family="monospace" font-size="11" fill="#83C167" text-anchor="middle">43</text>
      <text x="150" y="25" font-family="monospace" font-size="11" fill="#83C167" text-anchor="middle">128</text>
    </g>

    <!-- Arrow with formula -->
    <g transform="translate(455, 30)">
      <line x1="0" y1="20" x2="60" y2="20" stroke="#888888" stroke-width="2"/>
      <polygon points="65,20 55,15 55,25" fill="#888888"/>
      <text x="30" y="10" font-family="CMU Serif, Georgia, serif" font-size="9" fill="#FFFF00" text-anchor="middle">x' = q × s</text>
    </g>

    <!-- Dequantized values -->
    <g transform="translate(530, 30)">
      <text x="90" y="-5" font-family="CMU Serif, Georgia, serif" font-size="12" fill="#FF6B6B" text-anchor="middle">Dequantized</text>
      <rect x="0" y="0" width="180" height="40" fill="#FF6B6B" fill-opacity="0.1" stroke="#FF6B6B"/>
      <text x="30" y="25" font-family="monospace" font-size="11" fill="#FF6B6B" text-anchor="middle">-1.50</text>
      <text x="70" y="25" font-family="monospace" font-size="11" fill="#FF6B6B" text-anchor="middle">0.00</text>
      <text x="110" y="25" font-family="monospace" font-size="11" fill="#FF6B6B" text-anchor="middle">0.50</text>
      <text x="150" y="25" font-family="monospace" font-size="11" fill="#FF6B6B" text-anchor="middle">1.50</text>
    </g>

    <!-- Scale explanation -->
    <g transform="translate(0, 90)">
      <rect x="0" y="0" width="350" height="55" rx="5" fill="#FFFF00" fill-opacity="0.1" stroke="#FFFF00" stroke-width="1"/>
      <text x="175" y="20" font-family="CMU Serif, Georgia, serif" font-size="12" fill="#FFFF00" text-anchor="middle">Scale factor: s = (max - min) / 255</text>
      <text x="175" y="40" font-family="monospace" font-size="11" fill="#FFFF00" text-anchor="middle">s = (1.5 - (-1.5)) / 255 ≈ 0.0118</text>
    </g>

    <!-- Error note -->
    <g transform="translate(380, 90)">
      <rect x="0" y="0" width="330" height="55" rx="5" fill="#FF6B6B" fill-opacity="0.1" stroke="#FF6B6B" stroke-width="1"/>
      <text x="165" y="20" font-family="CMU Serif, Georgia, serif" font-size="12" fill="#FF6B6B" text-anchor="middle">Quantization Error</text>
      <text x="165" y="40" font-family="monospace" font-size="11" fill="#FF6B6B" text-anchor="middle">Max error ≈ s/2 = 0.006 (small for INT8)</text>
    </g>
  </g>

  <!-- ============ Methods Comparison ============ -->
  <g transform="translate(50, 430)">
    <text x="350" y="0" font-family="CMU Serif, Georgia, serif" font-size="16" fill="#888888" text-anchor="middle">Common Quantization Methods</text>

    <!-- PTQ -->
    <g transform="translate(0, 25)">
      <rect x="0" y="0" width="220" height="70" rx="5" fill="#29ABCA" fill-opacity="0.1" stroke="#29ABCA"/>
      <text x="110" y="20" font-family="CMU Serif, Georgia, serif" font-size="13" fill="#29ABCA" text-anchor="middle">Post-Training (PTQ)</text>
      <text x="110" y="40" font-family="CMU Serif, Georgia, serif" font-size="10" fill="#666666" text-anchor="middle">No retraining needed</text>
      <text x="110" y="55" font-family="CMU Serif, Georgia, serif" font-size="10" fill="#666666" text-anchor="middle">GPTQ, AWQ, SmoothQuant</text>
    </g>

    <!-- QAT -->
    <g transform="translate(240, 25)">
      <rect x="0" y="0" width="220" height="70" rx="5" fill="#83C167" fill-opacity="0.1" stroke="#83C167"/>
      <text x="110" y="20" font-family="CMU Serif, Georgia, serif" font-size="13" fill="#83C167" text-anchor="middle">Quantization-Aware (QAT)</text>
      <text x="110" y="40" font-family="CMU Serif, Georgia, serif" font-size="10" fill="#666666" text-anchor="middle">Train with quantization</text>
      <text x="110" y="55" font-family="CMU Serif, Georgia, serif" font-size="10" fill="#666666" text-anchor="middle">Better accuracy, needs data</text>
    </g>

    <!-- Accuracy table -->
    <g transform="translate(480, 25)">
      <rect x="0" y="0" width="220" height="70" rx="5" fill="#FFFF00" fill-opacity="0.1" stroke="#FFFF00"/>
      <text x="110" y="20" font-family="CMU Serif, Georgia, serif" font-size="13" fill="#FFFF00" text-anchor="middle">Typical Perplexity Loss</text>
      <text x="110" y="40" font-family="monospace" font-size="10" fill="#666666" text-anchor="middle">INT8: &lt; 0.1 (minimal)</text>
      <text x="110" y="55" font-family="monospace" font-size="10" fill="#666666" text-anchor="middle">INT4: 0.1 - 0.5 (noticeable)</text>
    </g>
  </g>
</svg>
